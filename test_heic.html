<!DOCTYPE html>
<html>
<head>
    <title>HEIC Conversion Test</title>
</head>
<body>
    <h1>HEIC Conversion Test</h1>
    <div>
        <h2>Direct Image Display Test</h2>
        <img id="testImage" src="/convert_heic/IMG_6019.heic" alt="HEIC Test" style="max-width: 400px; border: 2px solid #ccc;">
        <p>If you see an image above, the HEIC conversion is working!</p>
    </div>
    
    <div>
        <h2>JavaScript Test</h2>
        <button onclick="testConversion()">Test HEIC Conversion</button>
        <div id="result"></div>
    </div>

    <script>
        function testConversion() {
            const result = document.getElementById('result');
            const testUrl = '/convert_heic/IMG_6019.heic?t=' + Date.now();
            
            result.innerHTML = 'Testing...';
            
            const img = new Image();
            img.onload = function() {
                result.innerHTML = `✅ Success! Image loaded: ${img.naturalWidth}x${img.naturalHeight}`;
            };
            img.onerror = function(e) {
                result.innerHTML = `❌ Failed to load image: ${e.type}`;
            };
            img.src = testUrl;
        }
    </script>
</body>
</html>
